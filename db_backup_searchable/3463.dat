1524032694	bdc_constraint_check_single_column_list		create or replace view "bdc_constraint_check_single_column_list"\nas\n-- only lip views\n-- select * from "bdc_constraint_check_single_column_list" ;\nselect tc.table_name, tc.constraint_name, col.column_name, cc.check_clause\nfrom information_schema.table_constraints tc\njoin information_schema.check_constraints cc on cc.constraint_name = tc.constraint_name\njoin pg_constraint pgc on pgc.conname = cc.constraint_name and pgc.contype = 'c' and array_length(pgc.conkey, 1) = 1\njoin information_schema.columns col on col.table_schema = tc.table_schema and col.table_name = tc.table_name and col.ordinal_position = ANY(pgc.conkey)\nwhere tc.table_schema='lip' and tc.constraint_type='CHECK'
1814898735	bdc_field_table_list		create or replace view "bdc_field_table_list"\nas\n-- only lip tables\n-- select * from "bdc_field_table_list"\nselect\n    t.table_name,\n    t.column_name,\n    t.data_type,\n    t.character_maximum_length,\n    t.numeric_precision,\n    t.is_nullable,\n    t.column_default,\n    c.check_clause,\n    c.constraint_name as check_constraint_name\n    \nfrom information_schema.columns t   \nleft join bdc_constraint_check_single_column_list c on c.table_name=t.table_name and c.column_name=t.column_name\nwhere t.table_schema='lip'\norder by t.table_name, t.column_name
646504765	bdc_function.list		create or replace view "bdc_function.list"\nas\n-- only lip functions\nselect t.routine_name::name as function_name, \nt.specific_name::name, \nt.type_udt_name::name\nfrom information_schema.routines t\nwhere t.routine_schema='lip' and t.routine_type='FUNCTION'\norder by function_name
1117448946	bdc_role_list		create or replace view "bdc_role_list"\nas\n-- select * from "bdc_role_list" ;\nselect usename as role_name,\n  case\n     when usesuper and usecreatedb then\n       cast('superuser, create database' as pg_catalog.text)\n     when usesuper then\n        cast('superuser' as pg_catalog.text)\n     when usecreatedb then\n        cast('create database' as pg_catalog.text)\n     else\n        cast('' as pg_catalog.text)\n  end role_attributes\nfrom pg_catalog.pg_user\norder by role_name desc;
477332060	bdc_table_list		create or replace view "bdc_table_list"\nas\n-- only lip tables\n-- select * from "bdc_table_list" ;\n\nselect\n  t.table_name\nfrom\n  information_schema.tables t\nwhere t.table_schema='lip'\nand table_type='BASE TABLE'
547379389	bdc_view_list		create or replace view "bdc_view_list"\nas\n-- only lip views\n-- select * from "bdc_view_list" ;\n\nselect t.table_name::name as view_name\nfrom information_schema.views t\nwhere t.table_schema='lip'\norder by t.table_name;\n\n\n
1437891956	bdd_field_table.details		create or replace view "bdd_field_table.details"\nas\n-- more details for field definitions are used to compare with the postgres definition\n-- select * from "bdd_field_table.details" ;\n\nselect t.table_name, f.field_name, \n-- data_type\nf.data_type,\nf.data_type as data_type_formatted,\ncase when c.data_type='character varying' then format('varchar(%s)', c.character_maximum_length)\nelse c.data_type\nend as bdc_data_type_formatted,\n-- not null\nf.not_null,\nf.not_null as not_null_formatted, \ncase when c.is_nullable='YES' then ''\nelse 'not null'\nend as bdc_is_nullable_formatted,\n-- default constraint\nf.default_constraint,\ncase \n    when f.default_constraint='' then ''\n    else format('%s',bdc_strip_prefix(f.default_constraint,'default '))\nend as default_constraint_formatted,\nreplace(replace(coalesce(c.column_default,''), '::character varying', ''),'::text','') as bdc_column_default_formatted,\n-- check constraint\nf.check_constraint,\ncase \n    when f.check_constraint='' then ''\n    else format('(%s)',bdc_strip_prefix(f.check_constraint,'check '))\nend as check_constraint_formatted,\ncoalesce(c.check_clause,'') as bdc_check_clause_formatted,\nc.check_constraint_name\n\nfrom bdd_table t\njoin bdd_field_table f on f.jid_bdd_table=t.id_bdd_table\njoin bdc_field_table_list c on c.table_name=t.table_name and c.column_name=f.field_name
\.


